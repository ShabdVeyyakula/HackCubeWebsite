<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <link rel="stylesheet" href="../../CSS/dashboardstyles.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
</head>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<body>
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-firestore.js"></script>
    <script src="../../Js/auth.js"></script>
    <ul style="display: flex;" class="sections">
        <li>
            <!-- Left Section-->
            <div class="leftBar23">
                <h1 class="logo">
                    Procura
                </h1>

                <ul class="screensList">
                    <li class="options" onclick="loadDashboard()">
                        Dashboard
                    </li>
                    <li class="options" onclick="loadHackathons()">
                        Hackathons
                    </li>
                    <li class="options">
                        My Hackathons
                    </li>
                    <li class="options">
                        Join Hackathon
                    </li>
                    <li class="options">
                        Settings
                    </li>
                    <li class="options">
                        Contact Support
                    </li>


                </ul>


            </div>
        </li>
        <li>
            <!--Middle Section-->
            <div id="centerContent" class="center">

                <h1 class="title">Dashboard</h1>
                <div class="welcome-back">
                    <h1 class="welcome">Welcome Back Shabd</h1>
                    <h3 class="welcome-text">Welcome to your dashboard.<br>  View all your options here!</h3>
                    <img src="/Assets/buisnessasset.png" alt="" class="buisness-vector">

                </div>

                <ul class="chart title" style="list-style-type: none; display: flex; margin-left: 380px;">
                    <li>
                        <h2>
                            Hackathon Attendance
                        </h2>

                    </li>
                    <li>
                        <div style="width: 300px;">

                        </div>
                    </li>
                    <li>
                        <h2>
                            Attendee Data
                        </h2>
                    </li>
                </ul>
                
                <ul class="charts">
                    <li class="chartli">
                        <div class="chart1">
                            <canvas id="myChart" width="380" height="240" style="padding-top: 30px;"></canvas>

                        </div>
                    </li>

                    <li class="chartli">
                        <div class="chart2">
                            <canvas id="myChart2" width="380" height="330"></canvas>

                        </div>
                    </li>

                </ul>

                <h2 class="yourHackathons">
                    Your Hackathons
                </h2>

                <div class="grid-layout">
                    <div class="hackathon">
                        <h2 class="hack-title">
                            DubHacks
                        </h2>
                        <p class="hack-des">
                            Lorem Ispum Hackathon description goes here
                        </p>
                        <div class="hack-img" style="background-image: url(https://media.blogto.com/articles/2019918-google.jpg?w=2048&cmd=resize_then_crop&height=1365&quality=70);">

                        </div>

                    </div>
                    <div class="hackathon">
                        <h2 class="hack-title">
                            SRCHacks
                        </h2>
                        <p class="hack-des">
                            Lorem Ispum Hackathon description goes here
                        </p>
                        <div class="hack-img" style="background-image: url(https://res.cloudinary.com/makeschool/image/upload/t_hero/v1/Homepage/building.jpg);">

                        </div>

                    </div>
                    
                    

                </div>


            </div>
            <script>
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                        datasets: [{
                            label: '# of Votes',
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });
                </script>
                <script>
                    var ctx = document.getElementById('myChart2').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                            datasets: [{
                                label: '# of Votes',
                                data: [12, 19, 3, 5, 2, 3],
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(255, 159, 64, 0.2)'
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                    });
                    </script>

        </li>
        <li>
            <!--Right Section-->
            <div class="rightBar23">
                <h2 class="logout" id="btnLogout" onclick="signOut()">Logout</h2>
                <div class="profilepic"
                    style="background-color: grey; height: 200px; width: 200px; border-radius: 400px;">


                </div>
                <h2 class="profile-name" id="nameDisplay">
                    
                </h2>
                <h2 class="upcomingevents">
                    Upcoming Events
                </h2>

                <ul class="events">
                    <li class="eventsli">
                        <div class="event">
                            <h3 class="upcoming-title">
                                Procura Hacks
                            </h3>
                            <p class="upcoming-data">
                                February 28, 2021

                            </p>

                        </div>
                    </li>
                    <li class="eventsli">
                        <div class="event">
                            <h3 class="upcoming-title">
                                Procura Hacks
                            </h3>
                            <p class="upcoming-data">
                                February 28, 2021

                            </p>

                        </div>
                    </li>
                    <li class="eventsli">
                        <div class="event">
                            <h3 class="upcoming-title">
                                Procura Hacks
                            </h3>
                            <p class="upcoming-data">
                                February 28, 2021

                            </p>

                        </div>
                    </li>

                </ul>



            </div>
        </li>
    </ul>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyDZ9pYHurpHjpI33InoBi2ZJT_Fdu2Z10w",
            authDomain: "hackerqmobile-newdatabase.firebaseapp.com",
            databaseURL: "https://hackerqmobile-newdatabase.firebaseio.com/",
            projectId: "hackerqmobile-newdatabase",
            storageBucket: "hackerqmobile-newdatabase.appspot.com",
            messagingSenderId: "462903816679",
            appId: "1:462903816679:web:aac71517826ca6f094cd42",
            measurementId: "G-1SVWFLQ5HH"
        };
        firebase.initializeApp(firebaseConfig);

        const btnLogout = document.getElementById("btnLogout").value;


        function signOut() {
            firebase.auth().signOut().then(function () {
                // Sign-out successful.
                window.location = "../login.html"
            }).catch(function (error) {
                // An error happened.
                console.log("An error with signout has occured")
            });
        }
        var emailUser = localStorage.getItem("emailOfUser")

        var userId = firebase.auth().currentUser.displayName;
        return firebase.database().ref('/UserData/' + /emailOfUser/ + displayName).once('value').then(function(snapshot) {
            var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';
        })

        document.getElementById('nameDisplay').innerHTML = username;




    </script>

</body>

</html>